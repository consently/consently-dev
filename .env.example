# Supabase Configuration
NEXT_PUBLIC_SUPABASE_URL=your-supabase-url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-supabase-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# Widget URL Configuration
# For production: https://www.consently.in
# For development: http://localhost:3000
NEXT_PUBLIC_WIDGET_URL=https://www.consently.in

# Google Translate API
GOOGLE_TRANSLATE_API_KEY=your-google-translate-api-key

# Bhashini API (Optional - for Indian languages)
BHASHINI_USER_ID=your-bhashini-user-id
BHASHINI_API_KEY=your-bhashini-api-key

# Email Configuration
RESEND_API_KEY=your-resend-api-key

# Payment Configuration (Razorpay)
RAZORPAY_KEY_ID=your-razorpay-key-id
RAZORPAY_KEY_SECRET=your-razorpay-key-secret

# Browserless (for cookie scanning)
BROWSERLESS_API_KEY=your-browserless-api-key
BROWSERLESS_URL=https://chrome.browserless.io

# Gemini AI API (for policy generation)
NEXT_PUBLIC_GEMINI_API_KEY=your-gemini-api-key

# Application URL
NEXT_PUBLIC_APP_URL=https://www.consently.in
NEXT_PUBLIC_SITE_URL=https://www.consently.in

# =============================================================================
# API Setu AuthPartner (Age Verification via MeriPehchaan/DigiLocker)
# =============================================================================
# Get credentials from: https://consume.apisetu.gov.in
# Dashboard: consume.apisetu.gov.in → MeriPehchaan Auth → AuthPartner
#
# IMPORTANT: API Setu manages OAuth flow internally.
# - DO NOT add DIGILOCKER_SCOPE, DIGILOCKER_ACR, DIGILOCKER_AMR env vars
# - DO NOT try to control OAuth params via environment variables
# - All OAuth configuration (scopes, ACR, AMR, flow) is done in the dashboard
# - Your code sends client_id + redirect_uri only; API Setu handles the rest
#
# Registered AuthPartner Details (for reference):
#   Client ID: JM56F33ABE
#   Callback URL: https://www.consently.in/api/auth/meri-pehchaan/callback
#   Scopes: age_verification (controlled in dashboard, do NOT use openid)
#   ACR: Aadhaar + Email + Mobile (controlled in dashboard)
#   AMR: Aadhaar (controlled in dashboard)
#   Flow: Sign-in (controlled in dashboard)

# Your AuthPartner Client ID (from consume.apisetu.gov.in dashboard)
APISETU_CLIENT_ID=your-authpartner-client-id

# Your AuthPartner Client Secret (from consume.apisetu.gov.in dashboard)
APISETU_CLIENT_SECRET=your-authpartner-client-secret

# OAuth callback URL (must EXACTLY match what's registered in AuthPartner dashboard)
# Format: https://yourdomain.com/api/auth/meripehchaan/callback
APISETU_REDIRECT_URI=https://www.consently.in/api/auth/meri-pehchaan/callback

# Optional: Set to 'true' for development/testing (uses mock responses, bypasses real API Setu)
APISETU_USE_MOCK=false

# JWT Secret for signing age verification assertions (generate a secure 32+ byte secret)
# This is used to sign client-side localStorage tokens, NOT for OAuth
# Generate with: openssl rand -base64 32
AGE_VERIFICATION_JWT_SECRET=your-secure-jwt-secret-min-32-bytes

# =============================================================================
# MeriPehchaan Consent Service (Consent Postback)
# =============================================================================
# Separate from the AuthPartner OAuth config above. This handles consent
# artefact postbacks from MeriPehchaan's consent service.
# Configure at: consume.apisetu.gov.in → Consent Partner settings

# Consent Client ID (from API Setu consent partner dashboard)
MERIPEHCHAAN_CONSENT_CLIENT_ID=UK0F7C1979

# Post Back Key (shared secret for validating incoming postback requests)
# From API Setu consent partner dashboard → "Post Back Key"
MERIPEHCHAAN_CONSENT_POSTBACK_KEY=your-postback-key

# Call Back Key (shared secret for outgoing consent API calls)
# From API Setu consent partner dashboard → "Call Back Key"
MERIPEHCHAAN_CONSENT_CALLBACK_KEY=your-callback-key

# Static JWKS for verifying consent postback JWT signatures (RS256)
# From API Setu consent partner dashboard → "Static JWKS"
# Paste the FULL JSON including the outer {"keys":[...]} wrapper
# IMPORTANT: Must be valid JSON on a single line (escape newlines if needed)
MERIPEHCHAAN_CONSENT_STATIC_JWKS={"keys":[{"kty":"RSA","kid":"consentlykey1","use":"sig","alg":"RS256","n":"PASTE_FULL_N_VALUE_HERE","e":"AQAB"}]}

# Consent API Base URL (for querying/updating consent records via API Setu)
MERIPEHCHAAN_CONSENT_API_BASE_URL=https://digilocker.meripehchaan.gov.in/public/oauth2/1
